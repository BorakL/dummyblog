(this["webpackJsonpdummy-blog"]=this["webpackJsonpdummy-blog"]||[]).push([[0],{66:function(e,t,c){},67:function(e,t,c){},69:function(e,t,c){},92:function(e,t,c){},94:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(23),s=c.n(n),r=(c(66),c(67),c(3)),i=c(7),j=c(103),o=c(21),l=c(96),d=c(2);function u(){return Object(d.jsx)("div",{style:{display:"flex",height:"100vh",width:"100%",alignItems:"center",justifyContent:"center"},children:Object(d.jsx)(l.a,{animation:"border",size:"xg"})})}var b=c(106),O=c(97),h=c(98),x=c(56);function m(e){var t=new Date(e),c=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],a=t.getDate(),n=t.getFullYear(),s=t.getHours(),r=t.getMinutes();return"".concat(c," ").concat(a,", ").concat(n," at ").concat(s,":").concat(r)}c(69);var f=function(e){var t="".concat(e.owner.title," ").concat(e.owner.firstName," ").concat(e.owner.lastName),c=m(e.publishDate);return Object(d.jsx)(b.a,{className:"post ".concat(e.styleName?e.styleName:""),children:Object(d.jsxs)(b.a.Body,{children:[Object(d.jsxs)(b.a.Title,{children:[Object(d.jsx)("div",{className:"owner-img",children:Object(d.jsx)(O.a,{src:"".concat(e.owner.picture),roundedCircle:!0})}),Object(d.jsxs)("div",{className:"ownerName-data",children:[Object(d.jsx)("div",{children:t}),Object(d.jsx)("div",{className:"data",children:c})]})]}),Object(d.jsxs)("div",{className:"post-main",children:[Object(d.jsx)(b.a.Text,{children:e.text}),Object(d.jsx)(b.a.Img,{src:e.image})]}),Object(d.jsxs)("div",{className:"post-likes",children:[Object(d.jsx)(x.a,{})," ",e.likes]}),Object(d.jsx)("div",{className:"post-tags",children:e.tags.map((function(e){return Object(d.jsx)(h.a,{children:e},e)}))}),Object(d.jsx)("div",{className:"post-edit",children:Object(d.jsx)(o.b,{to:"".concat(e.id,"/edit"),className:"btn-lg",children:"Edit Post"})})]})})},p=c(25),g=c.n(p),v={headers:{"app-id":"616d98ada2239f6f8801088d"}},y=function(e){return g.a.get("https://dummyapi.io/data/v1/post/".concat(e,"/"),v)};var N=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(0),l=Object(i.a)(s,2),b=l[0],O=l[1],h=Object(a.useState)(12),x=Object(i.a)(h,2),m=x[0],p=x[1],y=Object(a.useState)(1),N=Object(i.a)(y,2),C=N[0],S=N[1],w=Object(a.useState)(!1),k=Object(i.a)(w,2),F=k[0],T=k[1];Object(a.useEffect)((function(){T(!0),function(e,t){return g.a.get("https://dummyapi.io/data/v1/post?page=".concat(e,"&limit=").concat(t),v)}(b,m).then((function(e){n(e.data.data),O(e.data.page),S(e.data.total),p(e.data.limit),T(!1)}))}),[b,m]);var D=Math.ceil(C/m),E={padding:"2em 0 1em",display:"flex",justifyContent:"center",fontSize:"1.5em"};return Object(d.jsx)(d.Fragment,{children:F?Object(d.jsx)(u,{}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{style:E,children:Object(d.jsx)(o.b,{to:"/create",className:"btn-lg",children:"Add New Post"})}),Object(d.jsx)("div",{style:{padding:"3em 0",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",gap:"3em"},children:c.map((function(e){return Object(d.jsxs)(o.b,{to:"/".concat(e.id),children:[" ",Object(d.jsx)(f,Object(r.a)({},e),e.id)," "]},e.id)}))}),Object(d.jsx)("div",{style:E,children:Object(d.jsxs)(j.a,{children:[Object(d.jsx)(j.a.First,{onClick:function(){return O(0)}}),Object(d.jsx)(j.a.Prev,{onClick:function(){return O(b-1)},disabled:0===b}),Object(d.jsx)(j.a.Item,{active:!0,children:b+1}),Object(d.jsx)(j.a.Next,{onClick:function(){return O(b+1)},disabled:b===D}),Object(d.jsx)(j.a.Last,{onClick:function(){return O(D-1)}})]})})]})})},C=c(9),S=c(104),w=c(60),k=c(100);var F=function(e){var t=Object(a.useState)([]),c=Object(i.a)(t,2),n=c[0],s=c[1];return Object(a.useEffect)((function(){g.a.get("https://dummyapi.io/data/v1/user",v).then((function(e){s(e.data.data)})).catch((function(e){console.log(e)}))}),[]),Object(d.jsx)(S.a.Group,{children:Object(d.jsxs)(S.a.Select,{onChange:function(t){return e.selectOwner(t)},disabled:!!e.disabled,required:!0,children:[Object(d.jsx)("option",{hidden:!0,children:"Select user"}),n.map((function(e){return Object(d.jsx)("option",{value:e.id,children:"".concat(e.firstName," ").concat(e.lastName)},e.id)}))]})})},T=c(99);var D=function(e){return Object(d.jsx)(T.a,{className:"comment",children:Object(d.jsx)(b.a,{children:Object(d.jsxs)(b.a.Body,{children:[Object(d.jsxs)(b.a.Title,{children:[e.comment.owner.firstName," ",Object(d.jsx)("span",{className:"date",children:m(e.comment.publishDate)})]}),Object(d.jsx)(b.a.Text,{children:e.comment.message})]})})})};c(92);var E=function(e){var t=Object(a.useState)([]),c=Object(i.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)(0),j=Object(i.a)(r,2),o=j[0],l=j[1],u=Object(a.useState)(""),b=Object(i.a)(u,2),O=b[0],h=b[1],x=Object(a.useState)(""),m=Object(i.a)(x,2),f=m[0],p=m[1];Object(a.useEffect)((function(){var t;console.log(e.id),(t=e.id,g.a.get("https://dummyapi.io/data/v1/post/".concat(t,"/comment"),v)).then((function(e){s(e.data.data),l(e.data.total)}))}),[e.id]);var y=function(t){(t.preventDefault(),""!==O)?(function(e){return g.a.post("https://dummyapi.io/data/v1/comment/create",e,v)}({message:f,owner:O,post:e.id}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),p("")):alert("You must select a user")};return Object(d.jsxs)("div",{className:"comments",children:[Object(d.jsx)("h2",{children:"Leave Comment"}),Object(d.jsxs)(S.a,{onSubmit:function(e){return y(e)},children:[Object(d.jsx)(F,{selectOwner:function(e){h(e.target.value)}}),Object(d.jsx)(w.a,{controlId:"floatingTextarea2",label:"Comment",children:Object(d.jsx)(S.a.Control,{as:"textarea",style:{height:"100px"},onChange:function(e){return p(e.target.value)},value:f,required:!0})}),Object(d.jsx)(k.a,{type:"submit",children:"Add Comment"})]}),Object(d.jsxs)("h2",{children:["Comments (",o,")"]}),n.map((function(e){return Object(d.jsx)(D,{comment:e},e.id)}))]})};var L=function(){var e=Object(C.g)().id,t=Object(a.useState)({}),c=Object(i.a)(t,2),n=c[0],s=c[1],j=Object(a.useState)(!1),o=Object(i.a)(j,2),l=o[0],b=o[1],O=Object(a.useState)(!1),h=Object(i.a)(O,2),x=h[0],m=h[1];return Object(a.useEffect)((function(){m(!0),y(e).then((function(e){s(e.data),m(!1)})).catch((function(e){console.log("Error: ",e),b(!0)}))}),[e]),Object(d.jsxs)(d.Fragment,{children:[l&&Object(d.jsx)(C.a,{to:"/"}),0===Object.keys(n).length||x?Object(d.jsx)(u,{}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(f,Object(r.a)(Object(r.a)({},n),{},{styleName:"page"})),Object(d.jsx)(E,{id:e})]})]})};var I=function(){return Object(d.jsx)("div",{children:Object(d.jsx)("h1",{children:"404 Not Found"})})},B=c(102),G=c(101),P=c(40);var q=function(e){var t=Object(a.useState)(e),c=Object(i.a)(t,2),n=c[0],s=c[1];return[n,function(e){s(e)},function(){s(e)}]},A=c(105),J=c(61);var M=function(e){var t=Object(a.useState)([]),c=Object(i.a)(t,2),n=c[0],s=c[1];Object(a.useEffect)((function(){g.a.get("https://dummyapi.io/data/v1/tag",v).then((function(e){s(e.data.data)})).catch((function(e){console.log(e)}))}),[]);var r={display:"flex",justifyContent:"space-between"};return Object(d.jsxs)(S.a.Group,{children:[Object(d.jsx)(S.a.Label,{children:"Tags"}),Object(d.jsx)(S.a.Select,{onChange:function(t){return e.addTag(t)},children:n.map((function(e){return Object(d.jsx)("option",{value:e,children:e},e)}))}),Object(d.jsx)(A.a,{children:e.tags.map((function(t){return Object(d.jsxs)(A.a.Item,{style:r,children:[t," ",Object(d.jsx)(J.a,{className:"icon",onClick:function(){return e.removeTag(t)}})]},t)}))})]})};var z=function(){var e=Object(C.g)().id,t=Object(a.useState)(!1),c=Object(i.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)([]),j=Object(i.a)(r,2),o=j[0],l=j[1],b=q(""),O=Object(i.a)(b,3),h=O[0],x=O[1],m=O[2],f=q(""),p=Object(i.a)(f,3),N=p[0],w=p[1],k=p[2],T=q(""),D=Object(i.a)(T,3),E=D[0],L=D[1],I=D[2],B=q(0),G=Object(i.a)(B,3),A=G[0],J=G[1],z=G[2],H=Object(a.useState)("Create Post"),W=Object(i.a)(H,2),Y=W[0],U=W[1],K=Object(a.useState)(!1),Q=Object(i.a)(K,2),R=Q[0],V=Q[1];Object(a.useEffect)((function(){e&&(V(!0),y(e).then((function(e){l(e.data.tags),x(e.data.owner.id),w(e.data.text),L(e.data.image),J(e.data.likes),U("Edit Post"),V(!1)})).catch((function(e){s(!0)})))}),[e]);var X=function(t){t.preventDefault();var c={text:N,image:E,likes:A,tags:o,owner:h};e?function(e,t){return g.a.put("https://dummyapi.io/data/v1/post/".concat(t),e,v)}(c,e).then((function(e){console.log("Edit post: ",e),s(!0)})).catch((function(e){console.log(e)})):(function(e){return g.a.post("https://dummyapi.io/data/v1/post/create/",e,v)}(c).then((function(e){console.log(e),alert("New post successfully created")})).catch((function(e){console.log(e)})),l([]),m(),k(),I(),z())};return Object(d.jsxs)(d.Fragment,{children:[n&&Object(d.jsx)(C.a,{to:"/"}),R?Object(d.jsx)(u,{}):Object(d.jsxs)(S.a,{onSubmit:function(e){return X(e)},style:{maxWidth:"var(--container-max-width)",margin:"auto"},children:[Object(d.jsx)("h2",{children:Y}),Object(d.jsxs)(S.a.Group,{children:[Object(d.jsx)(S.a.Label,{children:"Text"}),Object(d.jsx)(S.a.Control,{as:"textarea",onChange:function(e){return w(e.target.value)},value:N,placeholder:N,required:!0})]}),Object(d.jsxs)(S.a.Group,{children:[Object(d.jsx)(S.a.Label,{children:"Image path"}),Object(d.jsx)(S.a.Control,{type:"text",onChange:function(e){return L(e.target.value)},value:E,placeholder:E,required:!0})]}),Object(d.jsxs)(S.a.Group,{children:[Object(d.jsx)(S.a.Label,{children:"Likes"}),Object(d.jsx)(S.a.Control,{type:"number",onChange:function(e){return J(e.target.value)},placeholder:A,required:!0})]}),Object(d.jsxs)(S.a.Group,{children:[Object(d.jsx)(S.a.Label,{children:"User"}),Object(d.jsx)(F,{selectOwner:function(e){x(e.target.value)},disabled:e})]}),Object(d.jsx)(M,{tags:o,addTag:function(e){-1===o.indexOf(e.target.value)&&l([].concat(Object(P.a)(o),[e.target.value]))},removeTag:function(e){var t=o.filter((function(t){return t!==e}));l(t)}}),Object(d.jsx)("button",{className:"btn-lg",type:"submit",children:Y})]})]})};var H=function(){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(B.a,{style:{backgroundColor:"var(--primary-color)"},children:Object(d.jsx)(G.a,{children:Object(d.jsx)(B.a.Brand,{style:{fontFamily:"Gochi Hand",fontSize:"1.5em"},children:Object(d.jsx)(o.b,{to:"/",children:"Dummy Blog"})})})}),Object(d.jsx)("div",{className:"main",children:Object(d.jsxs)(C.d,{children:[Object(d.jsx)(C.b,{exact:!0,path:"/",children:Object(d.jsx)(N,{})}),Object(d.jsx)(C.b,{exact:!0,path:"/create",children:Object(d.jsx)(z,{})}),Object(d.jsx)(C.b,{exact:!0,path:"/:id",children:Object(d.jsx)(L,{})}),Object(d.jsx)(C.b,{exact:!0,path:"/:id/edit",children:Object(d.jsx)(z,{})}),Object(d.jsx)(C.b,{exact:!0,children:Object(d.jsx)(I,{})})]})}),Object(d.jsx)("div",{className:"footer",children:"Copyright \xa9 2021 DummyBlog"})]})},W=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,107)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};c(93);s.a.render(Object(d.jsx)(o.a,{children:Object(d.jsx)(H,{})}),document.getElementById("root")),W()}},[[94,1,2]]]);
//# sourceMappingURL=main.38aedebd.chunk.js.map